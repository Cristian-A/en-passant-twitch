<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>en-passant ðŸ‡ºðŸ‡³ Mod Tourney ðŸ’Ž</title>
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tw-elements/dist/css/index.min.css">
	<script src="https://cdn.tailwindcss.com"></script>
	<meta name="theme-color" content="#101827">
	<meta name="author" content="Zachary Saine">
	<style>
		body { overflow-x: hidden; }
		@font-face {
			font-family: 'Noto Color Emoji';
			src: url(https://raw.githack.com/googlefonts/noto-emoji/main/fonts/NotoColorEmoji.ttf);
		}
        h1, .modflags {
			font-family: -apple-system, ui-sans-serif, system-ui, "Apple Color Emoji", "Noto Color Emoji";
        }
		input[type="time"]::-webkit-calendar-picker-indicator { background: none; display:none; }
		a, .text-blue { color: #6cbdff !important; }
		.bot {
			background: #5765F2;
			border-radius: 2px;
			padding: 2px 4px;
			font-size: 10px;
			color: #fff;
		}
		#time {
			font-size: 30px;
			text-align: center;
			padding: 0 10px;
			align-self: center;
			margin: 20px auto;
		}
		#top-headers { text-align: left; }		
		.vertical {
			transform: rotate(-90deg);
			white-space: nowrap;
			width: 60px;
			margin-bottom: -20px;
		}
		.round-top-left { border-top-left-radius: 0.5rem; }
		.round-bottom-left { border-bottom-left-radius: 0.5rem; }
		.round-top-right { border-top-right-radius: 0.5rem; }
		.round-bottom-right { border-bottom-right-radius: 0.5rem; }
		sub { bottom: -1.2rem !important; }
		sup { top: -1.2rem !important; }
		.white-r { box-shadow: inset -4px 0 0 #fff; height: 60px; }
		.black-b { box-shadow: inset 0 -4px 0 #000; width: 60px; }
		td { cursor: default; }
	</style>
</head>
<body class="bg-gray-900">
	<div class="flex flex-col items-center justify-center w-screen min-h-screen bg-gray-900 py-10">
		<h1 class="text-lg text-gray-200 font-medium">en-passant ðŸ‡ºðŸ‡³ <span class="bot">BOT</span> Mod Tourney ðŸ’Ž</h1>
		<div class="flex flex-col mt-6">
			<div class="-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8">
				<div class="py-2 align-middle inline-block min-w-full sm:px-6 lg:px-8">
					<div class="overflow-hidden sm:rounded-lg">
						<table class="min-w-full text-sm text-gray-400">
							<thead class="bg-gray-800">
								<tr id="top-headers" style="height: 120px"><th class="bg-gray-900 text-center text-xl"><sub>â¬œ</sub> â•² <sup>â¬›</sup></th></tr>
							</thead>
							<tbody class="" id="table-body"></tbody>
						</table>
					</div>
				</div>
			</div>
		</div>
	</div>
	<script src="https://cdn.jsdelivr.net/npm/tw-elements/dist/js/index.min.js"></script>
	<script type="text/javascript">
		const mods = [
			{ flag: 'ðŸ‡®ðŸ‡¹', name: 'Cristian' },
			{ flag: 'ðŸ‡²ðŸ‡½', name: 'Sofia' },
			{ flag: 'ðŸ‡ºðŸ‡¸', name: 'Chris' },
			{ flag: 'ðŸ‡ºðŸ‡¸', name: 'Gavin', },
			{ flag: 'ðŸ‡¬ðŸ‡§', name: 'Adam' },
			{ flag: 'ðŸ‡µðŸ‡±', name: 'Matt' },
			{ flag: 'ðŸ‡®ðŸ‡³', name: 'Sahil' },
			{ flag: 'ðŸ‡ªðŸ‡¬', name: 'Ahmad' },
		];
		for (let i = 0; i < mods.length; i++) {
			const mod = mods[i];
			document.getElementById('top-headers').innerHTML += `
				<th scope="col" class="text-left tracking-wider black-b text-gray${
					i === 0 ? ' round-top-left' : (i === mods.length - 1 ? ' round-top-right' : '')
				}"><div class="vertical modflags">${mod.flag} ${mod.name}</div></th>
			`;
			let row = "";
			for (let j = 1; j <= mods.length; j++) {
				row += `<td white="${mods[i].name}" black="${mods[j - 1].name}" class="bg-gray-700 bg-opacity-${
					i % 2 === j % 2 ? 30 : 50
				} text-center text-xl text-white font-mono">${i + 1 === j ? '-' : ''}</td>`;
			}
			document.getElementById("table-body").innerHTML += `
				<tr>
					<th class="px-6 py-4 bg-gray-800 text-gray-100 text-right white-r modflags${
						i === 0 ? ' round-top-left' : (i === mods.length - 1 ? ' round-bottom-left' : '')
					}">${mod.name} ${mod.flag}</th>
					${row}
					<td total-white="${mod.name}" class="text-center text-gray-100 text-xl text-white font-mono" width="60px" height="60px"></td>
				</tr>
			`;
		}
		let res_row = "<th></th>";
		for (const mod of mods)
			res_row += `<td total-black="${mod.name}" class="text-center text-gray-100 text-xl text-white font-mono" width="60px" height="60px"></td>`;
		document.getElementById("table-body").innerHTML += '<tr>' + res_row + '</tr>';
		document.getElementById('top-headers').innerHTML += `<th class="bg-gray-900"></th>`;
		const results = [
			// WHITE       BLACK         SCORE
			//[  'Sahil',    'Adam',         1 ],
			//[   'Adam',   'Sahil',         0 ],
			//[  'Gavin',    'Adam',       1/2 ],
		];
		const totals = { white: {}, black: {} }; mods.forEach(mod => {
			totals.white[mod.name] = 0; totals.black[mod.name] = 0;
		});
		const $ = s => s.toString().replace(/0?\.5/, 'Â½');
		for (const result of results) {
			totals.white[result[0]] += result[2];
			totals.black[result[1]] += 1 - result[2];
			document.querySelector(`td[white="${result[0]}"][black="${result[1]}"]`).innerText = $(result[2]);
			document.querySelector(`td[total-white="${result[0]}"]`).innerText = $(totals.white[result[0]]);
			document.querySelector(`td[total-black="${result[1]}"]`).innerText = $(totals.black[result[1]]);
			document.querySelector(`td[white="${result[0]}"][black="${result[1]}"]`).setAttribute(
				"title", result[2] == 0 ? "Black Won" : (result[2] == 1 ? "White Won" : "Draw")
			);
		}
	</script>
</body>
</html>