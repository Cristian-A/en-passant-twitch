<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>en-passant 🇺🇳 BOT Queue 🎟️</title>
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tw-elements/dist/css/index.min.css">
	<script src="https://cdn.tailwindcss.com"></script>
	<meta name="theme-color" content="#101827">
	<meta name="author" content="Zachary Saine">
	<style>
		a, .text-blue { color: #6cbdff !important; }
		.bot {
			background: #5765F2;
			border-radius: 2px;
			padding: 2px 4px;
			font-size: 10px;
			color: #fff;
		}
		#time {
			font-size: 30px;
			text-align: center;
			width: 120px;
			padding: 0 10px;
			align-self: center;
			margin: 20px;
		}
	</style>
</head>
<body class="bg-gray-900">
	<div class="flex flex-col items-center justify-center w-screen min-h-screen bg-gray-900 py-10">
		<h1 class="text-lg text-gray-200 font-medium">en-passant 🇺🇳 <span class="bot">BOT</span> Time 🕰️</h1>
		<h3 class="mt-6 uppercase mb-4"><b><a href="https://en-passant-twitch.cristian-98.repl.co/time/">🔄 Reload</a></b></h3>
		<div class="flex flex-col mt-6">
			<input type="time" id="time" pattern="[0-9]{2}:[0-9]{2}" class="sm:rounded-lg text-gray-200 font-medium font-mono form-control bg-gray-800 text-center" style="font-size:30px" value="" onchange="handle()">
			<div class="-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8">
				<div class="py-2 align-middle inline-block min-w-full sm:px-6 lg:px-8">
					<div class="shadow overflow-hidden sm:rounded-lg">
						<table class="min-w-full text-sm text-gray-400">
							<thead class="bg-gray-800 text-xs uppercase font-medium">
								<tr>
									<th scope="col" class="px-11 py-3 text-left tracking-wider">Member</th>
									<th scope="col" class="px-6 py-3 text-center tracking-wider">Time</th>
									<th scope="col" class="px-6 py-3 text-center tracking-wider">Zone</th>
								</tr>
							</thead>
							<tbody class="bg-gray-800" id="timetable">
								<tr class="bg-black even:bg-opacity-20 odd:bg-opacity-30">
									<td class="px-6 py-4 text-gray-100">🇨🇦 Zach</td>
									<td class="px-6 py-4 text-left whitespace-nowrap font-mono" id="zach">00:00</td>
									<td class="px-6 py-4 text-left whitespace-nowrap font-mono">America / Toronto</td>
								</tr>
							</tbody>
						</table>
					</div>
				</div>
			</div>
		</div>
	</div>
	<script src="https://cdn.jsdelivr.net/npm/tw-elements/dist/js/index.min.js"></script>
	<script type="text/javascript">
		const mods = [
			{ flag: '🇮🇹', name: 'Cristian', zone: 'Europe/Rome', active: true },
			{ flag: '🇲🇽', name: 'Sofia', zone: 'America/Mexico_City', active: true },
			{ flag: '🇺🇸', name: 'Chris', zone: 'America/Los_Angeles', active: true },
			{ flag: '🇺🇸', name: 'Gavin', zone: 'America/New_York', active: true },
			{ flag: '🇬🇧', name: 'Adam', zone: 'Europe/London', active: true },
			{ flag: '🇵🇱', name: 'Matt', zone: 'America/New_York', active: true },
			{ flag: '🇮🇳', name: 'Sahil', zone: 'Asia/Kolkata', active: true },
			{ flag: '🇪🇬', name: 'Ahmad', zone: 'Africa/Cairo', active: false },
			{ flag: '🇦🇺', name: 'Golda', zone: 'Australia/Melbourne', active: false },
			{ flag: '🇳🇱', name: 'Krijn', zone: 'Europe/Amsterdam', active: false },
		];
		for (const mod of mods) {
			document.getElementById('timetable').innerHTML += `
				<tr class="bg-black even:bg-opacity-20 odd:bg-opacity-30">
					<td class="px-6 py-4 text-gray-${ mod.active ? 100 : 200 }">${mod.flag} ${mod.name}</td>
					<td class="px-6 py-4 text-left whitespace-nowrap font-mono" id="${mod.name.toLowerCase()}">00:00</td>
					<td class="px-6 py-4 text-left whitespace-nowrap font-mono">${mod.zone.replace('/', ' / ').replace('_', ' ')}</td>
				</tr>
			`;
		}
		function tick(date = new Date()) {
			document.getElementById("time").value = date.toLocaleString("en-US", { hour: "2-digit", minute: "2-digit", hour12: false });
			document.getElementById("zach").innerHTML = date.toLocaleString("en-US", { timeZone: 'America/Montreal', hour: "2-digit", minute: "2-digit", timeZoneName: 'short' });
			for (const mod of mods)
				document.getElementById(mod.name.toLowerCase()).innerHTML = date.toLocaleString("en-US", { timeZone: mod.zone, hour: "2-digit", minute: "2-digit", timeZoneName: 'short' });
		}
		tick();
		function handle() {
			const date = new Date();
			const time = document.getElementById("time").value.split(':');
			date.setHours(time[0]);
			date.setMinutes(time[1]);
			tick(date);
		}
	</script>
</body>
</html>